/* src/components/InteractiveSVG.css */
.interactive-svg-container {
    width: 100%;
    height: 100%;
    position: relative;
}

.interactive-svg-container svg {
    width: 100%;
    height: 100%;
    display: block;
}

.svg-loading {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 400px;
    font-size: 16px;
    color: #666;
}

/* Стили для интерактивных rect */
.interactive-rect {
    cursor: pointer;
    transition: all 0.3s ease;
    stroke: transparent;
    stroke-width: 1px;
}

/* ============ СТИЛИ ДЛЯ ФИЛЬТРАЦИИ ============ */

/* Аудитории, которые ПРОХОДЯТ фильтры (доступны) */
.interactive-rect.filtered-in {
    fill: #4CAF50 !important; /* Зеленый */
    opacity: 1 !important;
    pointer-events: auto !important;
    cursor: pointer !important;
}

/* Аудитории, которые НЕ проходят фильтры (скрыты/полупрозрачны) */
.interactive-rect.filtered-out {
    fill: #9E9E9E !important; /* Серый */
    opacity: 0.3 !important;
    pointer-events: none !important;
    cursor: not-allowed !important;
}

/* Эффект при наведении на доступную аудиторию */
.interactive-rect.filtered-in.rect-hover {
    filter: brightness(0.85);
    stroke: #388E3C !important;
    stroke-width: 3px !important;
}

/* Эффект для выбранного rect (поверх фильтров) */
.interactive-rect.rect-selected {
    fill: #2196F3 !important; /* Синий */
    stroke: #1976d2 !important;
    stroke-width: 4px !important;
    filter: brightness(1.1);
    opacity: 1 !important;
    pointer-events: auto !important;
    cursor: pointer !important;
    z-index: 10;
    animation: pulse 1.5s infinite;
}

@keyframes pulse {
    0% { stroke-width: 4px; }
    50% { stroke-width: 6px; }
    100% { stroke-width: 4px; }
}

/* ============ ЦВЕТА ПО ТИПАМ АУДИТОРИЙ ============ */

/* По умолчанию (если нет типа) */
.interactive-rect:not([fill]) {
    fill: #BDBDBD;
}

/* Лекционные аудитории */
.interactive-rect.lecture,
.interactive-rect[data-type="lecture"] {
    fill: #FF9800; /* Оранжевый */
}

/* Учебные */
.interactive-rect.computer,
.interactive-rect[data-type="study"] {
    fill: #9C27B0; /* Фиолетовый */
}


/* ============ ЦВЕТА ПО СТАТУСУ ============ */

/* Свободные аудитории */
.interactive-rect.free,
.interactive-rect[data-status="free"] {
    fill: #4CAF50;
}

/* Занятые аудитории */
.interactive-rect.busy,
.interactive-rect[data-status="busy"] {
    fill: #F44336;
}

/* ============ ПОДСКАЗКИ (TOOLTIPS) ============ */

/* Стили для подсказок при наведении */
.interactive-rect[title]:hover::after {
    content: attr(title);
    position: absolute;
    background: rgba(0, 0, 0, 0.8);
    color: white;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 12px;
    white-space: nowrap;
    z-index: 100;
    pointer-events: none;
}

/* ============ ИНДИКАТОРЫ ВМЕСТИМОСТИ ============ */

/* Маленькие аудитории (до 25 мест) */
.interactive-rect[data-capacity^="1"],
.interactive-rect[data-capacity^="2"]:not([data-capacity^="25"]):not([data-capacity^="2"]):not([data-capacity^="3"]) {
    stroke-dasharray: 2,2;
}

/* Средние аудитории (26-50 мест) */
.interactive-rect[data-capacity^="3"],
.interactive-rect[data-capacity^="4"],
.interactive-rect[data-capacity^="5"]:not([data-capacity^="50"]) {
    stroke-dasharray: 4,2;
}

/* Большие аудитории (51+ мест) */
.interactive-rect[data-capacity^="5"][data-capacity^="51"],
.interactive-rect[data-capacity^="6"],
.interactive-rect[data-capacity^="7"],
.interactive-rect[data-capacity^="8"],
.interactive-rect[data-capacity^="9"],
.interactive-rect[data-capacity^="1"][data-capacity^="10"] {
    stroke-dasharray: 6,2;
}

/* ============ ЛЕГЕНДА ФИЛЬТРОВ ============ */

.filter-legend {
    position: absolute;
    bottom: 20px;
    right: 20px;
    background: white;
    padding: 15px;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    font-size: 12px;
    z-index: 100;
}

.filter-legend h4 {
    margin: 0 0 10px 0;
    font-size: 14px;
    color: #333;
}

.legend-item {
    display: flex;
    align-items: center;
    margin-bottom: 6px;
}

.legend-color {
    width: 16px;
    height: 16px;
    margin-right: 8px;
    border-radius: 3px;
}

.legend-text {
    color: #666;
}